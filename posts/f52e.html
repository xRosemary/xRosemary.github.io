<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>Bilibili用户社交网络分析 | xRosemary的个人博客</title><meta name="keywords" content="复杂网络分析"><meta name="author" content="xRosemary,2862656629@qq.com"><meta name="copyright" content="xRosemary"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="Bilibili用户社交网络分析xRosemary https:&#x2F;&#x2F;github.com&#x2F;xRosemary   摘　要：  在信息化时代背景下，社交网络分析在各大社交平台中得到广泛关注。本文试图通过爬取哔哩哔哩网页端的数据，并对其进行社交网络分析，包括网络可视化，网络度的分析以及用户影响力发掘等，从而得到一些分析结论，使读者能够对哔哩哔哩平台的社交网络有一个较为全面的了解。   关键词：  社交">
<meta property="og:type" content="article">
<meta property="og:title" content="Bilibili用户社交网络分析">
<meta property="og:url" content="https://xrosemary.github.io/posts/f52e.html">
<meta property="og:site_name" content="xRosemary的个人博客">
<meta property="og:description" content="Bilibili用户社交网络分析xRosemary https:&#x2F;&#x2F;github.com&#x2F;xRosemary   摘　要：  在信息化时代背景下，社交网络分析在各大社交平台中得到广泛关注。本文试图通过爬取哔哩哔哩网页端的数据，并对其进行社交网络分析，包括网络可视化，网络度的分析以及用户影响力发掘等，从而得到一些分析结论，使读者能够对哔哩哔哩平台的社交网络有一个较为全面的了解。   关键词：  社交">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://raw.githubusercontent.com/xRosemary/test/main/img/netAnalysis.jpg">
<meta property="article:published_time" content="2022-09-04T07:49:18.000Z">
<meta property="article:modified_time" content="2022-09-04T10:30:04.492Z">
<meta property="article:author" content="xRosemary">
<meta property="article:tag" content="复杂网络分析">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://raw.githubusercontent.com/xRosemary/test/main/img/netAnalysis.jpg"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://xrosemary.github.io/posts/f52e"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: [object Object]
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Bilibili用户社交网络分析',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2022-09-04 18:30:04'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><link rel="stylesheet" href="/css/custom.css" media="defer" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.cbd.int/qweather-icons@1.1.1/font/qweather-icons.css"><!-- hexo injector head_end start --><link rel="stylesheet" href="https://cdn.cbd.int/hexo-butterfly-categories-card@1.0.0/lib/categorybar.css"><link rel="stylesheet" href="https://cdn.cbd.int/hexo-butterfly-clock-anzhiyu@1.0.6/lib/clock.min.css" /><link rel="stylesheet" href="https://cdn.cbd.int/hexo-butterfly-wowjs/lib/animate.min.css" media="print" onload="this.media='screen'"><link rel="stylesheet" href="https://cdn.cbd.int/hexo-filter-gitcalendar/lib/gitcalendar.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.cbd.int/hexo-butterfly-tag-plugins-plus@latest/lib/assets/font-awesome-animation.min.css" media="defer" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.cbd.int/hexo-butterfly-tag-plugins-plus@latest/lib/tag_plugins.css" media="defer" onload="this.media='all'"><script src="https://cdn.cbd.int/hexo-butterfly-tag-plugins-plus@latest/lib/assets/carousel-touch.js"></script><!-- hexo injector head_end end --><meta name="generator" content="Hexo 5.4.2"><link rel="alternate" href="/atom.xml" title="xRosemary的个人博客" type="application/atom+xml">
</head><body><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://avatars.githubusercontent.com/u/94156100?s=400&amp;u=d801f51e253492f8377d8086c3e73f6ddc485cda&amp;v=4" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">10</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">8</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">4</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/"><i class="fa-fw fas fa-home faa-tada"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/archives/"><i class="fa-fw fas fa-archive faa-tada"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/artitalk/"><i class="fa-fw fas fa-comment-dots faa-tada"></i><span> 闲言碎语</span></a></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/music/"><i class="fa-fw fas fa-music faa-tada"></i><span> 音乐馆</span></a></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/categories/"><i class="fa-fw fas fa-folder-open faa-tada"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/tags/"><i class="fa-fw fas fa-tags faa-tada"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/timetable/"><i class="fa-fw fab fa-artstation faa-tada"></i><span> 课表</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://raw.githubusercontent.com/xRosemary/test/main/img/netAnalysis.jpg')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">xRosemary的个人博客</a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/"><i class="fa-fw fas fa-home faa-tada"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/archives/"><i class="fa-fw fas fa-archive faa-tada"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/artitalk/"><i class="fa-fw fas fa-comment-dots faa-tada"></i><span> 闲言碎语</span></a></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/music/"><i class="fa-fw fas fa-music faa-tada"></i><span> 音乐馆</span></a></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/categories/"><i class="fa-fw fas fa-folder-open faa-tada"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/tags/"><i class="fa-fw fas fa-tags faa-tada"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/timetable/"><i class="fa-fw fab fa-artstation faa-tada"></i><span> 课表</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">Bilibili用户社交网络分析</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2022-09-04T07:49:18.000Z" title="发表于 2022-09-04 15:49:18">2022-09-04</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2022-09-04T10:30:04.492Z" title="更新于 2022-09-04 18:30:04">2022-09-04</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Python/">Python</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="Bilibili用户社交网络分析"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="Bilibili用户社交网络分析"><a href="#Bilibili用户社交网络分析" class="headerlink" title="Bilibili用户社交网络分析"></a>Bilibili用户社交网络分析</h1><center><div style="height:2mm;"></div><div style="font-family:华文楷体;font-size:14pt;">xRosemary</div></center>
<center><span style="font-family:华文楷体;font-size:9pt;line-height:9mm">https://github.com/xRosemary</span>
</center>
<div>
<div style="width:52px;float:left; font-family:方正公文黑体;">摘　要：</div> 
<div style="overflow:hidden; font-family:华文楷体;">在信息化时代背景下，社交网络分析在各大社交平台中得到广泛关注。本文试图通过爬取哔哩哔哩网页端的数据，并对其进行社交网络分析，包括网络可视化，网络度的分析以及用户影响力发掘等，从而得到一些分析结论，使读者能够对哔哩哔哩平台的社交网络有一个较为全面的了解。</div>
</div>
<div>
<div style="width:52px;float:left; font-family:方正公文黑体;">关键词：</div> 
<div style="overflow:hidden; font-family:华文楷体;">社交网络；爬取；哔哩哔哩；可视化；用户影响力；</div>
</div>

<center><div style="height:2mm;"></div><div style="font-size:14pt;">xRosemary</div></center>
<center><span style="font-size:9pt;line-height:9mm"><i>https://github.com/xRosemary</i></span>
</center>
<div>
<div style="width:82px;float:left;line-height:16pt"><b>Abstract: </b></div> 
<div style="overflow:hidden;line-height:16pt">In the information age, social network analysis has been widely concerned in various social platforms.  This paper attempts to crawl the data of Bilibili's webpage and analyze its social network, including network visualization, network degree analysis and user influence excavation, so as to get some analysis conclusions, so that readers can have a more comprehensive understanding of the social network of Bilibili platform.</div>
</div>
<div>
<div style="width:82px;float:left;line-height:16pt"><b>Key Words: </b></div> 
<div style="overflow:hidden;line-height:16pt">Social network; Crawl; BiliBili; Visualization; User influence;</div>
</div>

<center><strong></strong></center>

<h2 id="数据集的获取"><a href="#数据集的获取" class="headerlink" title="数据集的获取"></a>数据集的获取</h2><p>　　本次实践的数据集是通过爬取bilibili网页端的数据获得，其数据在网页端的存储格式如图 1 所示。本节下面会详细介绍如何实现数据的爬取。</p>
<p><img src="https://raw.githubusercontent.com/xRosemary/test/main/img/image-20220518153117813.png" alt="image-20220518153117813"></p>
<center><strong>图 1  网页数据的格式</strong></center>

<h3 id="数据库设计"><a href="#数据库设计" class="headerlink" title="数据库设计"></a>数据库设计</h3><p>​    在了解数据的具体结构后，本人据此设计了数据库的存储格式。该数据库的ER图如图 2 所示。User_fans表中主要包括三个字段，主键ID，和两个外键mid，fanID。其中mid代表当前用户的ID，fanID代表该用户粉丝的ID。UserData表主要用来存储用户的详情信息，包括姓名、性别、等级、关注者数量以及粉丝数量。User_fans与UserData之间存在着关联关系，也就是说每一个用户都有他的详情信息。</p>
<p><img src="https://raw.githubusercontent.com/xRosemary/test/main/img/image-20220524222713471.png" alt="image-20220524222713471"></p>
<center><strong>图 2  数据库ER图</strong></center>

<h3 id="爬虫的编写"><a href="#爬虫的编写" class="headerlink" title="爬虫的编写"></a>爬虫的编写</h3><p>​    本文的爬虫功能是基于 python 3.9 实现的，调用了外部库 requests 来获取网络请求，以及 json 库来解析 json 数据。爬取数据的逻辑是一个双向层次遍历，其结构如图 3 所示。由于事先我们无法获得所有用户的ID，所以只能以一个用户作为切入点，遍历其粉丝列表和关注列表，并以此为基础，获取更多用户的信息。</p>
<p><img src="https://raw.githubusercontent.com/xRosemary/test/main/img/image-20220524224158695.png" alt="image-20220524224158695"></p>
<center><strong>图 3  遍历的结构</strong></center>

<h2 id="获取数据后的初步分析"><a href="#获取数据后的初步分析" class="headerlink" title="获取数据后的初步分析"></a>获取数据后的初步分析</h2><p>​    本次实验中共爬取了 8801 条数据，在做网络分析前作者对其进行了初步的分析，包括性别分布、粉丝数量统计、关注者数量统计以及用户等级统计等。分析可得，性别保密的用户占大多数，其次是男性、女性；用户等级都是最高等级6级；从整体上来看每个用户关注者数量和粉丝数量都较高，但标准差较大。详细结果如图 4-7 所示。</p>
<p><img src="https://raw.githubusercontent.com/xRosemary/test/main/img/%E6%80%A7%E5%88%AB%E6%AF%94%E7%8E%87.png" alt="性别比率" style="zoom:80%;"></p>
<center><strong>图 4  性别比率</strong></center>

<p><img src="https://raw.githubusercontent.com/xRosemary/test/main/img/follower.png" alt="follower" style="zoom:80%;"></p>
<center><strong>图 5  粉丝数散点图</strong></center>

<p><img src="https://raw.githubusercontent.com/xRosemary/test/main/img/following.png" alt="following" style="zoom:80%;"></p>
<center><strong>图 6  关注者数散点图</strong></center>

<p><img src="https://raw.githubusercontent.com/xRosemary/test/main/img/level.png" alt="level" style="zoom:80%;"></p>
<center><strong>图 7  用户等级分布</strong></center>

<h2 id="网络结构分析"><a href="#网络结构分析" class="headerlink" title="网络结构分析"></a>网络结构分析</h2><h3 id="网络可视化"><a href="#网络可视化" class="headerlink" title="网络可视化"></a>网络可视化</h3><p>​    网络可视化主要基于包 networkx [1] 和 matplotlib 实现。这里使用了有向图来表达关注与被关注关系，每个节点的出度代表被关注关系，入度代表关注关系。为了方便观看，作者将粉丝数量大于150万的核心用户提取出来进行分析，并将用户的ID转化为用户名，最后根据每个节点的度数对节点的大小进行了缩放处理。最终结果如图 8-9 所示。</p>
<p><img src="https://raw.githubusercontent.com/xRosemary/test/main/img/%E5%8F%AF%E8%A7%86%E5%8C%96.png" alt="可视化"></p>
<center><strong>图 8  网络可视化</strong></center>

<p><img src="https://raw.githubusercontent.com/xRosemary/test/main/img/%E5%B1%80%E9%83%A8%E5%9B%BE.png" alt="局部图" style="zoom:80%;"></p>
<center><strong>图 9  网络局部放大图</strong></center>

<h3 id="网络度分布与聚类系数"><a href="#网络度分布与聚类系数" class="headerlink" title="网络度分布与聚类系数"></a>网络度分布与聚类系数</h3><p>​    度分布是指网络中度为k的节点的出现概率，而聚类系数表示一个图中节点聚集程度的系数。本文通过 networkx 包中自带的 degree_histogram 方法和 degree_centrality 方法对这两个指标进行统计。其代码如下所示。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 网络度分布</span></span><br><span class="line">degree=nx.degree_histogram(G)</span><br><span class="line">x=<span class="built_in">range</span>(<span class="built_in">len</span>(degree))</span><br><span class="line">y=[z/<span class="built_in">float</span>(<span class="built_in">sum</span>(degree))<span class="keyword">for</span> z <span class="keyword">in</span> degree]  <span class="comment"># 将频次转化为频率</span></span><br><span class="line">plt.title(<span class="string">&#x27;网络度分布&#x27;</span>)</span><br><span class="line">plt.scatter(x,y)</span><br><span class="line">plt.show()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 聚类系数</span></span><br><span class="line">centrality = nx.degree_centrality(G)</span><br><span class="line">x=<span class="built_in">range</span>(<span class="built_in">len</span>(centrality))</span><br><span class="line">y = centrality.values()</span><br><span class="line">plt.title(<span class="string">&#x27;聚类系数&#x27;</span>)</span><br><span class="line">plt.scatter(x,y)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<p>​    代码运行的结果如图 10-11 所示。</p>
<p><img src="https://raw.githubusercontent.com/xRosemary/test/main/img/%E5%BA%A6%E5%88%86%E5%B8%83.png" alt="度分布"></p>
<center><strong>图 10  网络度分布</strong></center>

<p><img src="https://raw.githubusercontent.com/xRosemary/test/main/img/%E8%81%9A%E7%B1%BB%E7%B3%BB%E6%95%B0.png" alt="聚类系数"></p>
<center><strong>图 11  网络聚类系数</strong></center>

<pre><code> 从统计结果中可以看出网络的度主要分布在 1-6 附近，但其中的一个节点的度数达到了70以上。从整体上来看满足星型网络的分布情况，即网络通过中心节点将许多点连接而组成。从聚类系数上来看也是，一个节点的聚类系数远远高于其他所有节点，这也验证了前面所述的观点。
</code></pre><h3 id="网络其他指标"><a href="#网络其他指标" class="headerlink" title="网络其他指标"></a>网络其他指标</h3><h4 id="网络的密度"><a href="#网络的密度" class="headerlink" title="网络的密度"></a>网络的密度</h4><p>​    网络密度是网络中实际存在的边数与可容纳的边数上限的比值。本文通过 networkx 中的 density 方法实现。其代码如下所示。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 网络的密度</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;图的密度:&#x27;</span>, nx.density(G))</span><br></pre></td></tr></table></figure>
<h4 id="网络直径"><a href="#网络直径" class="headerlink" title="网络直径"></a>网络直径</h4><p>​    网络直径是指网络中任意两节点间距离的最大值。由于本实验中生成的是有向图，可能存在非连通网络，因此作者现将网络分割成数个连通子网络，然后再进行统计。其代码如下所示。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 网络直径</span></span><br><span class="line">G_child=<span class="built_in">list</span>(G.subgraph(c) <span class="keyword">for</span> c <span class="keyword">in</span> nx.connected_components(G))</span><br><span class="line">cnt = <span class="number">1</span></span><br><span class="line"><span class="keyword">for</span> g <span class="keyword">in</span> G_child:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;连通子网络%d的直径:&#x27;</span> % cnt, nx.diameter(g))</span><br><span class="line">    cnt = cnt+<span class="number">1</span></span><br></pre></td></tr></table></figure>
<p>​    上述代码的运行结果如图 12 所示。</p>
<p><img src="https://raw.githubusercontent.com/xRosemary/test/main/img/image-20220524235109574.png" alt="image-20220524235109574"></p>
<center><strong>图 12  网络其他指标</strong></center>

<h2 id="用户影响力发掘"><a href="#用户影响力发掘" class="headerlink" title="用户影响力发掘"></a>用户影响力发掘</h2><p>​    在对本实验中的实证网络进行一系列分析后，作者还对本次爬取到的用户的影响力进行了分析，分别计算出了用户权威性最高的前十位用户，以及用户枢纽性最高的前十位用户。这里作者采用了两种方法进行计算，分别是 PageRank 和 HITS 方法 [2]。其主要代码如下所示，运行结果如图 13 所示。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># PageRank</span></span><br><span class="line">pr = nx.pagerank(G)</span><br><span class="line">prsorted = <span class="built_in">sorted</span>(pr.items(), key=<span class="keyword">lambda</span> x: x[<span class="number">1</span>], reverse=<span class="literal">True</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;基于pagerank算法的用户影响力前10名\n&#x27;</span>)</span><br><span class="line"><span class="keyword">for</span> p <span class="keyword">in</span> prsorted[:<span class="number">10</span>]:</span><br><span class="line">    <span class="built_in">print</span>(p[<span class="number">0</span>], p[<span class="number">1</span>])</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;----------------------------------------\n&quot;</span>)</span><br><span class="line">    </span><br><span class="line"><span class="comment"># HITS</span></span><br><span class="line">hub, auth = nx.hits(G)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;基于HITS(hub)算法的用户影响力前10名\n&#x27;</span>)</span><br><span class="line"><span class="keyword">for</span> h <span class="keyword">in</span> <span class="built_in">sorted</span>(hub.items(), key=<span class="keyword">lambda</span> x: x[<span class="number">1</span>], reverse=<span class="literal">True</span>)[:<span class="number">10</span>]:</span><br><span class="line">	<span class="built_in">print</span>(h[<span class="number">0</span>], h[<span class="number">1</span>])</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;----------------------------------------\n&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;基于HITS(auth)算法的用户影响力前10名\n&#x27;</span>)    </span><br><span class="line"><span class="keyword">for</span> a <span class="keyword">in</span> <span class="built_in">sorted</span>(auth.items(), key=<span class="keyword">lambda</span> x: x[<span class="number">1</span>], reverse=<span class="literal">True</span>)[:<span class="number">10</span>]:     </span><br><span class="line">	<span class="built_in">print</span>(a[<span class="number">0</span>], a[<span class="number">1</span>])</span><br></pre></td></tr></table></figure>
<p><img src="https://raw.githubusercontent.com/xRosemary/test/main/img/%E7%94%A8%E6%88%B7%E5%BD%B1%E5%93%8D%E5%8A%9B.png" alt="用户影响力" style="zoom:80%;"></p>
<center><strong>图 13  用户影响力榜单</strong></center>

<h2 id="结语"><a href="#结语" class="headerlink" title="结语"></a>结语</h2><p>​    本文爬取了Bilibili网页端的用户信息，并对该实证网络进行了一系列分析，主要讨论了用户信息分布、网络的结构以及用户的影响力信息。从分析结果可看出该网站用户群体中有一位处于主导地位。由于设备受限，本文只爬取了接近9000条数据，并只筛选出粉丝数大于150万的核心用户进行分析，结果可能与真实分布情况存在一些偏差。不过，该结果也能反映出一些有意义的信息。希望读者通过观看本文，能对Bilibili的用户分布情况有进一步的了解。</p>
<p><strong>参考文献:</strong> </p>
<p>［1］  司六米希.【复杂网络】实证网络可视化及其分析 - 含度分布，聚类系数，网络直径，度关联性，权重分析 (性质解析及代码)【python+networkx】[CP].CSDN, [2022-05-20]. <a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_50927106/article/details/123921734">https://blog.csdn.net/weixin_50927106/article/details/123921734</a></p>
<p>［2］  nana-li.PageRank算法和HITS算法 [CP].CSDN, [2018-07-27]. <a target="_blank" rel="noopener" href="https://blog.csdn.net/quiet_girl/article/details/81227904">https://blog.csdn.net/quiet_girl/article/details/81227904</a></p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="https://xRosemary.github.io">xRosemary</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://xrosemary.github.io/posts/f52e.html">https://xrosemary.github.io/posts/f52e.html</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://xRosemary.github.io" target="_blank">xRosemary的个人博客</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E5%A4%8D%E6%9D%82%E7%BD%91%E7%BB%9C%E5%88%86%E6%9E%90/">复杂网络分析</a></div><div class="post_share"><div class="social-share" data-image="https://raw.githubusercontent.com/xRosemary/test/main/img/netAnalysis.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/posts/779.html"><img class="prev-cover" src="https://raw.githubusercontent.com/xRosemary/test/main/img/autoDrive.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">在自动驾驶城市中用于360度感知环境的语义相机</div></div></a></div><div class="next-post pull-right"><a href="/posts/3eeb.html"><img class="next-cover" src="/img/52520072_p0.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">Hello World</div></div></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="https://avatars.githubusercontent.com/u/94156100?s=400&amp;u=d801f51e253492f8377d8086c3e73f6ddc485cda&amp;v=4" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">xRosemary</div><div class="author-info__description">1!5! 哥们在这给你学UE</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">10</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">8</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">4</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/xxxxxx"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon faa-parent animated-hover" href="https://github.com/xRosemary" target="_blank" title="Github"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-gitHub"></use></svg></a><a class="social-icon faa-parent animated-hover" href="https://mail.qq.com/cgi-bin/qm_share?t=qm_mailme&amp;email=2862656629@qq.com" target="_blank" title="Email"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-youxiang"></use></svg></a><a class="social-icon faa-parent animated-hover" href="/atom.xml" target="_blank" title="RSS"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-rss"></use></svg></a><a class="social-icon faa-parent animated-hover" href="https://space.bilibili.com/22757384" target="_blank" title="BiliBili"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-bilibili"></use></svg></a><a class="social-icon faa-parent animated-hover" href="tencent://Message/?Uin=2862656629&amp;amp;websiteName=local.edu.com:8888=&amp;amp;Menu=yes" target="_blank" title="QQ"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-QQ1"></use></svg></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Bilibili%E7%94%A8%E6%88%B7%E7%A4%BE%E4%BA%A4%E7%BD%91%E7%BB%9C%E5%88%86%E6%9E%90"><span class="toc-number">1.</span> <span class="toc-text">Bilibili用户社交网络分析</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E9%9B%86%E7%9A%84%E8%8E%B7%E5%8F%96"><span class="toc-number">1.1.</span> <span class="toc-text">数据集的获取</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%BE%E8%AE%A1"><span class="toc-number">1.1.1.</span> <span class="toc-text">数据库设计</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%88%AC%E8%99%AB%E7%9A%84%E7%BC%96%E5%86%99"><span class="toc-number">1.1.2.</span> <span class="toc-text">爬虫的编写</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%8E%B7%E5%8F%96%E6%95%B0%E6%8D%AE%E5%90%8E%E7%9A%84%E5%88%9D%E6%AD%A5%E5%88%86%E6%9E%90"><span class="toc-number">1.2.</span> <span class="toc-text">获取数据后的初步分析</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C%E7%BB%93%E6%9E%84%E5%88%86%E6%9E%90"><span class="toc-number">1.3.</span> <span class="toc-text">网络结构分析</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C%E5%8F%AF%E8%A7%86%E5%8C%96"><span class="toc-number">1.3.1.</span> <span class="toc-text">网络可视化</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C%E5%BA%A6%E5%88%86%E5%B8%83%E4%B8%8E%E8%81%9A%E7%B1%BB%E7%B3%BB%E6%95%B0"><span class="toc-number">1.3.2.</span> <span class="toc-text">网络度分布与聚类系数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C%E5%85%B6%E4%BB%96%E6%8C%87%E6%A0%87"><span class="toc-number">1.3.3.</span> <span class="toc-text">网络其他指标</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C%E7%9A%84%E5%AF%86%E5%BA%A6"><span class="toc-number">1.3.3.1.</span> <span class="toc-text">网络的密度</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C%E7%9B%B4%E5%BE%84"><span class="toc-number">1.3.3.2.</span> <span class="toc-text">网络直径</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%94%A8%E6%88%B7%E5%BD%B1%E5%93%8D%E5%8A%9B%E5%8F%91%E6%8E%98"><span class="toc-number">1.4.</span> <span class="toc-text">用户影响力发掘</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%93%E8%AF%AD"><span class="toc-number">1.5.</span> <span class="toc-text">结语</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/posts/ffb7.html" title="new / delete 和 malloc / free 的异同"><img src="https://raw.githubusercontent.com/xRosemary/test/main/coverImg/83736962_p0.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="new / delete 和 malloc / free 的异同"/></a><div class="content"><a class="title" href="/posts/ffb7.html" title="new / delete 和 malloc / free 的异同">new / delete 和 malloc / free 的异同</a><time datetime="2022-09-19T05:58:32.000Z" title="发表于 2022-09-19 13:58:32">2022-09-19</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/759e.html" title="浅析Cpp中的构造函数和析构函数"><img src="https://raw.githubusercontent.com/xRosemary/test/main/coverImg/60515982_p0.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="浅析Cpp中的构造函数和析构函数"/></a><div class="content"><a class="title" href="/posts/759e.html" title="浅析Cpp中的构造函数和析构函数">浅析Cpp中的构造函数和析构函数</a><time datetime="2022-09-15T03:00:55.000Z" title="发表于 2022-09-15 11:00:55">2022-09-15</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/7989.html" title="如何实现简易的火焰传播效果"><img src="https://raw.githubusercontent.com/xRosemary/test/main/coverImg/65453159_p0.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="如何实现简易的火焰传播效果"/></a><div class="content"><a class="title" href="/posts/7989.html" title="如何实现简易的火焰传播效果">如何实现简易的火焰传播效果</a><time datetime="2022-09-07T15:31:23.000Z" title="发表于 2022-09-07 23:31:23">2022-09-07</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/f6f0.html" title="浅析常见的设计模式"><img src="https://raw.githubusercontent.com/xRosemary/test/main/coverImg/63134826_p0.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="浅析常见的设计模式"/></a><div class="content"><a class="title" href="/posts/f6f0.html" title="浅析常见的设计模式">浅析常见的设计模式</a><time datetime="2022-09-05T13:46:31.000Z" title="发表于 2022-09-05 21:46:31">2022-09-05</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/ee08.html" title="生产者-消费者模型"><img src="https://raw.githubusercontent.com/xRosemary/test/main/coverImg/64374689_p0.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="生产者-消费者模型"/></a><div class="content"><a class="title" href="/posts/ee08.html" title="生产者-消费者模型">生产者-消费者模型</a><time datetime="2022-09-05T12:12:26.000Z" title="发表于 2022-09-05 20:12:26">2022-09-05</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2022 By xRosemary</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><div class="js-pjax"></div><script async rel="prefetch" src="/js/console.js"></script><script async src="/js/diytitle.js"></script><script async src="/js/grayscale.js"></script><script async data-pjax src="/js/floatpanel.js"></script><div class="aplayer no-destroy" data-id="1708664797" data-server="tencent" data-type="playlist"   data-order="list" data-fixed="true" data-preload="auto" data-autoplay="false" data-mutex="true" ></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/metingjs/dist/Meting.min.js"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><!-- hexo injector body_end start --><script data-pjax>
    function butterfly_categories_card_injector_config(){
      var parent_div_git = document.getElementById('recent-posts');
      var item_html = '<style>li.categoryBar-list-item{width:32.3%;}.categoryBar-list{max-height: 190px;overflow:auto;}.categoryBar-list::-webkit-scrollbar{width:0!important}@media screen and (max-width: 650px){.categoryBar-list{max-height: 160px;}}</style><div class="recent-post-item" style="height:auto;width:100%;padding:0px;"><div id="categoryBar"><ul class="categoryBar-list"><li class="categoryBar-list-item" style="background:url(https://cdn.cbd.int/akilar-candyassets@1.0.36/image/cover1.webp);"> <a class="categoryBar-list-link" href="categories/Python/">Python</a><span class="categoryBar-list-count">1</span><span class="categoryBar-list-descr"></span></li><li class="categoryBar-list-item" style="background:url(https://cdn.cbd.int/akilar-candyassets@1.0.36/image/cover2.webp);"> <a class="categoryBar-list-link" href="categories/Article/">Article</a><span class="categoryBar-list-count">1</span><span class="categoryBar-list-descr"></span></li><li class="categoryBar-list-item" style="background:url(https://cdn.cbd.int/akilar-candyassets@1.0.36/image/cover3.webp);"> <a class="categoryBar-list-link" href="categories/UE4/">UE4</a><span class="categoryBar-list-count">3</span><span class="categoryBar-list-descr"></span></li><li class="categoryBar-list-item" style="background:url(https://cdn.cbd.int/akilar-candyassets@1.0.36/image/cover4.webp);"> <a class="categoryBar-list-link" href="categories/学习/">学习</a><span class="categoryBar-list-count">4</span><span class="categoryBar-list-descr"></span></li></ul></div></div>';
      console.log('已挂载butterfly_categories_card')
      parent_div_git.insertAdjacentHTML("afterbegin",item_html)
      }
    if( document.getElementById('recent-posts') && (location.pathname ==='/'|| '/' ==='all')){
    butterfly_categories_card_injector_config()
    }
  </script><script data-pjax>
  function butterfly_clock_anzhiyu_injector_config(){
    var parent_div_git = document.getElementsByClassName('sticky_layout')[0];
    var item_html = '<div class="card-widget card-clock"><div class="card-glass"><div class="card-background"><div class="card-content"><div id="hexo_electric_clock"><img class="entered loading" id="card-clock-loading" src="https://cdn.cbd.int/hexo-butterfly-clock-anzhiyu@1.0.6/lib/loading.gif" style="height: 120px; width: 100%;" data-ll-status="loading"/></div></div></div></div></div>';
    console.log('已挂载butterfly_clock_anzhiyu')
    parent_div_git.insertAdjacentHTML("afterbegin",item_html)
    }
  var elist = 'null'.split(',');
  var cpage = location.pathname;
  var epage = 'all';
  var qweather_key = 'b16a1fa0e63c46a4b8f28abfb06ae3fe';
  var gaud_map_key = 'e2b04289e870b005374ee030148d64fd&s=rsv3';
  var baidu_ak_key = 'undefined';
  var flag = 0;
  var clock_rectangle = '112.6534116,27.96920845';
  var clock_default_rectangle_enable = 'false';

  for (var i=0;i<elist.length;i++){
    if (cpage.includes(elist[i])){
      flag++;
    }
  }

  if ((epage ==='all')&&(flag == 0)){
    butterfly_clock_anzhiyu_injector_config();
  }
  else if (epage === cpage){
    butterfly_clock_anzhiyu_injector_config();
  }
  </script><script src="https://widget.qweather.net/simple/static/js/he-simple-common.js?v=2.0"></script><script data-pjax src="https://cdn.cbd.int/hexo-butterfly-clock-anzhiyu@1.0.6/lib/clock.min.js"></script><div class="js-pjax"><script async="async">var arr = document.getElementsByClassName('recent-post-item');
for(var i = 0;i<arr.length;i++){
    arr[i].classList.add('wow');
    arr[i].classList.add('animate__zoomIn');
    arr[i].setAttribute('data-wow-duration', '1.5s');
    arr[i].setAttribute('data-wow-delay', '200ms');
    arr[i].setAttribute('data-wow-offset', '30');
    arr[i].setAttribute('data-wow-iteration', '1');
  }</script><script async="async">var arr = document.getElementsByClassName('card-widget');
for(var i = 0;i<arr.length;i++){
    arr[i].classList.add('wow');
    arr[i].classList.add('animate__zoomIn');
    arr[i].setAttribute('data-wow-duration', '');
    arr[i].setAttribute('data-wow-delay', '200ms');
    arr[i].setAttribute('data-wow-offset', '');
    arr[i].setAttribute('data-wow-iteration', '');
  }</script><script async="async">var arr = document.getElementsByClassName('flink-list-card');
for(var i = 0;i<arr.length;i++){
    arr[i].classList.add('wow');
    arr[i].classList.add('animate__flipInY');
    arr[i].setAttribute('data-wow-duration', '3s');
    arr[i].setAttribute('data-wow-delay', '');
    arr[i].setAttribute('data-wow-offset', '');
    arr[i].setAttribute('data-wow-iteration', '');
  }</script><script async="async">var arr = document.getElementsByClassName('flink-list-card');
for(var i = 0;i<arr.length;i++){
    arr[i].classList.add('wow');
    arr[i].classList.add('animate__animated');
    arr[i].setAttribute('data-wow-duration', '3s');
    arr[i].setAttribute('data-wow-delay', '');
    arr[i].setAttribute('data-wow-offset', '');
    arr[i].setAttribute('data-wow-iteration', '');
  }</script><script async="async">var arr = document.getElementsByClassName('article-sort-item');
for(var i = 0;i<arr.length;i++){
    arr[i].classList.add('wow');
    arr[i].classList.add('animate__slideInRight');
    arr[i].setAttribute('data-wow-duration', '1.5s');
    arr[i].setAttribute('data-wow-delay', '');
    arr[i].setAttribute('data-wow-offset', '');
    arr[i].setAttribute('data-wow-iteration', '');
  }</script><script async="async">var arr = document.getElementsByClassName('site-card');
for(var i = 0;i<arr.length;i++){
    arr[i].classList.add('wow');
    arr[i].classList.add('animate__flipInY');
    arr[i].setAttribute('data-wow-duration', '3s');
    arr[i].setAttribute('data-wow-delay', '');
    arr[i].setAttribute('data-wow-offset', '');
    arr[i].setAttribute('data-wow-iteration', '');
  }</script><script async="async">var arr = document.getElementsByClassName('site-card');
for(var i = 0;i<arr.length;i++){
    arr[i].classList.add('wow');
    arr[i].classList.add('animate__animated');
    arr[i].setAttribute('data-wow-duration', '3s');
    arr[i].setAttribute('data-wow-delay', '');
    arr[i].setAttribute('data-wow-offset', '');
    arr[i].setAttribute('data-wow-iteration', '');
  }</script></div><script defer src="https://cdn.cbd.int/hexo-butterfly-wowjs/lib/wow.min.js"></script><script defer src="https://cdn.cbd.int/hexo-butterfly-wowjs/lib/wow_init.js"></script><script data-pjax src="https://cdn.cbd.int/hexo-filter-gitcalendar/lib/gitcalendar.js"></script><script data-pjax>
  function gitcalendar_injector_config(){
      var parent_div_git = document.getElementById('recent-posts');
      var item_html = '<div class="recent-post-item" style="width:100%;height:auto;padding:10px;"><style>#git_container{min-height: 280px}@media screen and (max-width:650px) {#git_container{min-height: 0px}}</style><div id="git_loading" style="width:10%;height:100%;margin:0 auto;display: block;"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 50 50" style="enable-background:new 0 0 50 50" xml:space="preserve"><path fill="#d0d0d0" d="M25.251,6.461c-10.318,0-18.683,8.365-18.683,18.683h4.068c0-8.071,6.543-14.615,14.615-14.615V6.461z" transform="rotate(275.098 25 25)"><animatetransform attributeType="xml" attributeName="transform" type="rotate" from="0 25 25" to="360 25 25" dur="0.6s" repeatCount="indefinite"></animatetransform></path></svg><style>#git_container{display: none;}</style></div><div id="git_container"></div></div>';
      parent_div_git.insertAdjacentHTML("afterbegin",item_html)
      console.log('已挂载gitcalendar')
      }

    if( document.getElementById('recent-posts') && (location.pathname ==='/'|| '/' ==='all')){
        gitcalendar_injector_config()
        GitCalendarInit("https://python-github-calendar-api-spk83h666-anzhiyu-c.vercel.app/api?xRosemary",['#ebedf0', '#fdcdec', '#fc9bd9', '#fa6ac5', '#f838b2', '#f5089f', '#c4067e', '#92055e', '#540336', '#48022f', '#30021f'],'xRosemary')
    }
  </script><script async src="/js/ali_font.js"></script><!-- hexo injector body_end end --><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"tagMode":false,"debug":false,"model":{"jsonPath":"/live2dw/assets/koharu.model.json"},"display":{"position":"left","width":150,"height":300},"mobile":{"show":false},"log":false,"pluginJsPath":"lib/","pluginModelPath":"assets/","pluginRootPath":"live2dw/"});</script></body></html>